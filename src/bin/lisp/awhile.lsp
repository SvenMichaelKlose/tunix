(macro awhile (test . body)
  (with (g (symbol))
    $(do ()
         ((not (= ,g ,test)))
       (with (! ,g)
         ,@body))))
