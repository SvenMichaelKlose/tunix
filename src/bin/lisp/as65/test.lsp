(load 'as65/opcode.lsp)
(load 'as65/parse.lsp)

(or (equal (as65/parse '(label:))
           '(nil (label . label)))
    (error))
(or (equal (as65/parse '(label :))
           '(nil (label . label)))
    (error))
(or (equal (as65/parse '(lda # 0))
           '(nil (mode . imm) (op . 0)))
    (error))
(or (equal (as65/parse '(lda 1234,x))
           '(nil (ireg . x) (op . 1234) (mode . abs) (mnem . lda)))
    (error))
(or (equal (as65/parse '(lda (1234),y))
           '(nil (ireg . y) (op . !.) (mode . ind) (mnem . lda)))
    (error))

(message "as65 tests passed.")
