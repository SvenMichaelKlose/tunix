(message "Testing OPEN on missing file...")
(and (open "k87sfdasdj9" 'r)
     (error))

(message "Testing OPEN file write to \"test.out\"...")
(let c (open "test.out" 'w)
  (setout c)
  (print message)
  (terpri)
  (close c)
  (setin stdin))

(message "Testing OPEN file read from \"test.out\"...")
(with ((c (open "test.out" 'r)
        e nil))
  (setin c)
  (= e (read))
  (close c)
  (setin stdin)
  (or (equal e message)
      (error)))
