(message "Console tests")
(load '"con.lsp")

(= *alv?* nil)
(fn test-clrscr ()
  (clrscr)
  (!= (con-x)
    (or (== 0 !)
        (error "Cursor X pos not 1:" !)))
  (!= (con-y)
    (or (== 0 !)
        (error "Cursor Y pos not 1:" !))))
(con-direct nil)
(test-clrscr)
(con-direct t)
(test-clrscr)
(con-direct nil)
(= *universe* (cdr (member 'test-clrscr *universe*)))

(message "Consoole goto")
(con-xy 3 3)
(!= (con-x)
  (or (== 3 !)
      (error "Cursor X pos not 3:" !)))
(!= (con-y)
  (or (== 3 !)
      (error "Cursor Y pos not 3:" !)))

(= *alv?* t)
