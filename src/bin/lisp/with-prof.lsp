(and (builtin? 'time)
     (number? +bps+)
  (macro with-prof body
    (with (stime    (symbol)
           duration (symbol))
      $(with (,stime (time))
         (progn
           ,@body)
         (with (,duration (- (time) ,stime))
           (out "Time spent: ")
           (print (/ ,duration +bps+))
           (out 's)
           (out " (")
           (print ,duration)
           (out " bekloppies)")
           (terpri))))))
